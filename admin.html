<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Painel Administrativo - Yemar Makeup Artist">
    <title>Admin - Yemar Makeup Artist</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://images.unsplash.com">
    <link rel="dns-prefetch" href="https://images.unsplash.com">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="top-bar">
                <button class="hamburger" id="hamburger" aria-label="Abrir menu">
                    <span></span><span></span><span></span>
                </button>
                <nav class="main-nav" aria-label="Navega√ß√£o principal">
                    <a href="index.html">IN√çCIO</a>
                    <a href="admin.html">ADMIN</a>
                </nav>
                <div class="header-right">
                    <div class="auth-link"><a href="conta.html" id="adminUserName">Admin</a></div>
                    <button class="btn btn-sm btn-outline" onclick="logout()">Sair</button>
                </div>
            </div>
            <div class="logo-section">
                <a href="index.html"><img src="assets/images/logo.png" alt="Yemar Makeup Artist" class="logo-img" style="height: 80px;"></a>
                <p class="tagline">PAINEL ADMINISTRATIVO</p>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <span class="logo-text" style="font-size: 1.2rem;">ADMIN</span>
            <button class="mobile-menu-close" id="closeMenu" aria-label="Fechar menu">&times;</button>
        </div>
        <nav class="mobile-nav" id="mobileAdminNav">
            <a href="#" data-section="dashboard">Dashboard</a>
            <a href="#" data-section="bookings">Marca√ß√µes</a>
            <a href="#" data-section="orders">Encomendas</a>
            <a href="#" data-section="services">Servi√ßos</a>
            <a href="#" data-section="workshops">Workshops</a>
            <a href="#" data-section="products">Produtos</a>
            <a href="#" data-section="posts">Blog</a>
            <a href="#" data-section="events">Eventos</a>
            <a href="#" data-section="users">Utilizadores</a>
            <a href="#" data-section="messages">Mensagens</a>
            <a href="#" data-section="settings">Defini√ß√µes</a>
        </nav>
    </div>

    <!-- Main Content -->
    <main id="main">
        <div class="admin-layout">
            <!-- Sidebar -->
            <aside class="admin-sidebar">
                <nav id="adminNav">
                    <a class="admin-menu-item active" data-section="dashboard">üìä Dashboard</a>
                    <a class="admin-menu-item" data-section="bookings">üìÖ Marca√ß√µes</a>
                    <a class="admin-menu-item" data-section="orders">üì¶ Encomendas</a>
                    <a class="admin-menu-item" data-section="services">üíÑ Servi√ßos</a>
                    <a class="admin-menu-item" data-section="workshops">üéì Workshops</a>
                    <a class="admin-menu-item" data-section="products">üõçÔ∏è Produtos</a>
                    <a class="admin-menu-item" data-section="posts">üìù Blog</a>
                    <a class="admin-menu-item" data-section="events">üéâ Eventos</a>
                    <a class="admin-menu-item" data-section="users">üë• Utilizadores</a>
                    <a class="admin-menu-item" data-section="messages">‚úâÔ∏è Mensagens</a>
                    <a class="admin-menu-item" data-section="reports">üìà Relat√≥rios</a>
                    <a class="admin-menu-item" data-section="settings">‚öôÔ∏è Defini√ß√µes</a>
                </nav>
            </aside>

            <!-- Content Area -->
            <div class="admin-content">
                <!-- Dashboard -->
                <section id="dashboardSection" class="admin-section active">
                    <h2 style="margin-bottom: 1.5rem;">Dashboard</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üìä Vis√£o Geral:</strong> Aqui voc√™ encontra um resumo das principais estat√≠sticas do site, incluindo total de servi√ßos, marcas√ß√µes, produtos e posts. As √∫ltimas marca√ß√µes e encomendas s√£o exibidas para acompanhamento r√°pido.
                    </div>
                    <div class="stats-grid" id="statsGrid">
                        <!-- Stats ser√£o carregadas via JS -->
                    </div>
                    
                    <div class="grid grid-2" style="margin-top: 2rem;">
                        <div class="admin-table-container">
                            <div class="admin-table-header">
                                <h3 class="admin-table-title">√öltimas Marca√ß√µes</h3>
                            </div>
                            <div id="recentBookings" style="padding: 1rem;">
                                <!-- Marca√ß√µes recentes -->
                            </div>
                        </div>
                        <div class="admin-table-container">
                            <div class="admin-table-header">
                                <h3 class="admin-table-title">√öltimas Encomendas</h3>
                            </div>
                            <div id="recentOrders" style="padding: 1rem;">
                                <!-- Encomendas recentes -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Marca√ß√µes -->
                <section id="bookingsSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Marca√ß√µes</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üìÖ Como usar:</strong> Visualize e gerencie todas as marca√ß√µes de servi√ßos, workshops e eventos. Ao <strong>confirmar</strong> uma marca√ß√£o, o sistema abre automaticamente o WhatsApp com uma mensagem pr√©-formatada para o cliente. Use os filtros para ver apenas marca√ß√µes pendentes, confirmadas, conclu√≠das ou canceladas.
                    </div>
                    <div class="filters" style="margin-bottom: 1rem;">
                        <select id="bookingStatusFilter" onchange="loadAdminBookings()">
                            <option value="">Todos os Estados</option>
                            <option value="pending">Pendentes</option>
                            <option value="confirmed">Confirmadas</option>
                            <option value="completed">Conclu√≠das</option>
                            <option value="cancelled">Canceladas</option>
                        </select>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Cliente</th>
                                    <th>Servi√ßo</th>
                                    <th>Data/Hora</th>
                                    <th>Estado</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="bookingsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Encomendas -->
                <section id="ordersSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Encomendas</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üõí Como usar:</strong> Gerencie todas as encomendas da loja online. Atualize o estado de cada encomenda (Pendente ‚Üí Em Processamento ‚Üí Enviada ‚Üí Entregue). Use os filtros para visualizar encomendas por estado.
                    </div>
                    <div class="filters" style="margin-bottom: 1rem;">
                        <select id="orderStatusFilter" onchange="loadAdminOrders()">
                            <option value="">Todos os Estados</option>
                            <option value="pending">Pendentes</option>
                            <option value="processing">Em Processamento</option>
                            <option value="shipped">Enviadas</option>
                            <option value="delivered">Entregues</option>
                            <option value="cancelled">Canceladas</option>
                        </select>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Servi√ßos -->
                <section id="servicesSection" class="admin-section">
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üíÑ Como usar:</strong> Adicione, edite ou remova servi√ßos de maquilhagem. Cada servi√ßo pode ter nome, descri√ß√£o, pre√ßo, dura√ß√£o e imagem. Clique em "+ Novo Servi√ßo" para adicionar. Use "Editar" para alterar informa√ß√µes ou "Eliminar" para remover.
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Servi√ßos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openServiceModal()">+ Novo Servi√ßo</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Categoria</th>
                                    <th>Pre√ßo</th>
                                    <th>Dura√ß√£o</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="servicesTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Workshops -->
                <section id="workshopsSection" class="admin-section">
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üéØ Como usar:</strong> Crie e gerencie workshops de maquilhagem (presenciais ou online). Defina nome, descri√ß√£o, pre√ßo, n√∫mero de vagas, dura√ß√£o e modalidade. Os clientes podem fazer marca√ß√µes atrav√©s do site.
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Workshops</h2>
                        <button class="btn btn-primary btn-sm" onclick="openWorkshopModal()">+ Novo Workshop</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Modalidade</th>
                                    <th>Pre√ßo</th>
                                    <th>Vagas</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="workshopsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Produtos -->
                <section id="productsSection" class="admin-section">
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üõçÔ∏è Como usar:</strong> Adicione produtos √† loja online (maquilhagem, pinc√©is, etc.). Defina nome, descri√ß√£o, pre√ßo, categoria, stock e imagem. <strong>Nota:</strong> A loja pode ser ativada/desativada em Defini√ß√µes.
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Produtos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openProductModal()">+ Novo Produto</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Categoria</th>
                                    <th>Pre√ßo</th>
                                    <th>Stock</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Blog -->
                <section id="postsSection" class="admin-section">
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>‚úçÔ∏è Como usar:</strong> Publique artigos no blog sobre tend√™ncias, tutoriais, dicas de maquilhagem, etc. Cada artigo pode ter t√≠tulo, conte√∫do, categoria, imagem e data de publica√ß√£o. Os visitantes podem dar "like" nos artigos.
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o do Blog</h2>
                        <button class="btn btn-primary btn-sm" onclick="openPostModal()">+ Novo Artigo</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>T√≠tulo</th>
                                    <th>Categoria</th>
                                    <th>Data</th>
                                    <th>Likes</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="postsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Eventos -->
                <section id="eventsSection" class="admin-section">
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üéâ Como usar:</strong> Divulgue eventos especiais como lan√ßamentos, desfiles, sess√µes fotogr√°ficas, etc. Defina nome, descri√ß√£o, data, local e imagem. Os clientes podem fazer marca√ß√µes para participar.
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Eventos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openEventModal()">+ Novo Evento</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Data</th>
                                    <th>Local</th>
                                    <th>Vagas</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="eventsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Utilizadores -->
                <section id="usersSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Utilizadores</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üë• Como usar:</strong> Visualize todos os utilizadores registados no site. Veja informa√ß√µes como nome, email, telefone e data de registo. Os utilizadores podem fazer marca√ß√µes e compras ap√≥s registo.
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Tipo</th>
                                    <th>Data Registo</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Mensagens -->
                <section id="messagesSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Mensagens de Contacto</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üìß Como usar:</strong> Visualize mensagens enviadas pelos visitantes atrav√©s do formul√°rio de contacto. Marque como "Lida" ap√≥s responder. Clique em "Ver" para ler a mensagem completa.
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Assunto</th>
                                    <th>Data</th>
                                    <th>Estado</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="messagesTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Relat√≥rios -->
                <section id="reportsSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Relat√≥rios e An√°lises</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>üìà Como usar:</strong> Visualize estat√≠sticas detalhadas, gr√°ficos de desempenho e exporte relat√≥rios em PDF ou Excel. Use os filtros de per√≠odo para analisar dados espec√≠ficos.
                    </div>

                    <!-- Filtros de Per√≠odo -->
                    <div class="settings-section">
                        <h3>Per√≠odo de An√°lise</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reportStartDate">Data In√≠cio</label>
                                <input type="date" id="reportStartDate">
                            </div>
                            <div class="form-group">
                                <label for="reportEndDate">Data Fim</label>
                                <input type="date" id="reportEndDate">
                            </div>
                            <div class="form-group" style="display: flex; align-items: flex-end;">
                                <button class="btn btn-primary" onclick="loadReports()">Atualizar Relat√≥rio</button>
                            </div>
                        </div>
                    </div>

                    <!-- Bot√µes de Exporta√ß√£o -->
                    <div style="margin-bottom: 2rem; display: flex; gap: 1rem;">
                        <button class="btn btn-primary" onclick="exportReportPDF()">üìÑ Exportar PDF</button>
                        <button class="btn btn-primary" onclick="exportReportExcel()">üìà Exportar Excel</button>
                    </div>

                    <!-- Estat√≠sticas Gerais -->
                    <div class="settings-section">
                        <h3>Estat√≠sticas Gerais</h3>
                        <div class="stats-grid" id="reportStatsGrid">
                            <!-- Stats ser√£o carregadas via JS -->
                        </div>
                    </div>

                    <!-- Gr√°ficos -->
                    <div class="settings-section">
                        <h3>Gr√°ficos de Desempenho</h3>
                        <div class="grid grid-2" style="gap: 2rem;">
                            <div>
                                <h4 style="margin-bottom: 1rem; font-size: 1rem; color: #666;">Marca√ß√µes por Servi√ßo</h4>
                                <canvas id="servicesChart" style="max-height: 300px;"></canvas>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 1rem; font-size: 1rem; color: #666;">Receita por M√™s</h4>
                                <canvas id="revenueChart" style="max-height: 300px;"></canvas>
                            </div>
                        </div>
                        <div class="grid grid-2" style="gap: 2rem; margin-top: 2rem;">
                            <div>
                                <h4 style="margin-bottom: 1rem; font-size: 1rem; color: #666;">Status das Marca√ß√µes</h4>
                                <canvas id="bookingsStatusChart" style="max-height: 300px;"></canvas>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 1rem; font-size: 1rem; color: #666;">Produtos Mais Vendidos</h4>
                                <canvas id="topProductsChart" style="max-height: 300px;"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Tabelas Detalhadas -->
                    <div class="settings-section">
                        <h3>Detalhamento de Servi√ßos</h3>
                        <div class="admin-table-container">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>Servi√ßo</th>
                                        <th>Total Marca√ß√µes</th>
                                        <th>Confirmadas</th>
                                        <th>Conclu√≠das</th>
                                        <th>Canceladas</th>
                                        <th>Receita Total</th>
                                    </tr>
                                </thead>
                                <tbody id="servicesReportTable">
                                    <!-- Dados ser√£o carregados via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Defini√ß√µes -->
                <section id="settingsSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Defini√ß√µes do Site</h2>
                    <div class="alert alert-info" style="margin-bottom: 1.5rem; padding: 1rem; background: #e8f4f8; border-left: 4px solid #0066cc; border-radius: 4px;">
                        <strong>‚öôÔ∏è Como usar:</strong> Configure todos os aspectos do site: nome, loja online, imagens, portf√≥lio, certificados e analytics. Cada se√ß√£o tem instru√ß√µes espec√≠ficas. Lembre-se de clicar em "Guardar Altera√ß√µes" ap√≥s editar.
                    </div>
                    
                    <div class="settings-section">
                        <h3>Nome do Site</h3>
                        <form id="siteNameForm">
                            <div class="form-group">
                                <label for="siteTagline">Nome/Tagline do Site</label>
                                <input type="text" id="siteTagline" value="Yemar Makeup Artist" placeholder="Ex: Yemar Makeup Artist">
                                <small style="color: #666; font-size: 0.8rem;">Este nome aparece no cabe√ßalho do site</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Loja Online</h3>
                        <form id="shopSettingsForm">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="shopEnabled" checked>
                                    Ativar Loja Online
                                </label>
                                <small style="color: #666; font-size: 0.8rem; display: block; margin-top: 0.5rem;">Quando desativada, a loja e produtos n√£o aparecer√£o no site</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Hero Banner</h3>
                        <form id="heroSettingsForm">
                            <div class="form-group">
                                <label for="heroTitle">T√≠tulo</label>
                                <input type="text" id="heroTitle" value="Real√ßa a Tua Beleza Natural">
                            </div>
                            <div class="form-group">
                                <label for="heroSubtitle">Subt√≠tulo</label>
                                <input type="text" id="heroSubtitle" value="Maquilhagem profissional para todos os momentos especiais da tua vida">
                            </div>
                            <div class="form-group">
                                <label for="heroImage">URL da Imagem</label>
                                <input type="url" id="heroImage" value="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1920">
                            </div>
                            <div class="form-group">
                                <label for="heroCta">Texto do Bot√£o</label>
                                <input type="text" id="heroCta" value="Marcar Agora">
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Informa√ß√µes de Contacto</h3>
                        <form id="contactSettingsForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="settingsEmail">Email</label>
                                    <input type="email" id="settingsContactEmail" value="yemarmk@gmail.com">
                                </div>
                                <div class="form-group">
                                    <label for="settingsPhone">Telefone</label>
                                    <input type="tel" id="settingsContactPhone" value="(+351) 933758731">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="settingsAddress">Endere√ßo</label>
                                <input type="text" id="settingsAddress" placeholder="Ex: Rua das Flores, 123 - Lisboa">
                            </div>
                            <div class="form-group">
                                <label for="settingsWhatsApp">WhatsApp (apenas n√∫meros)</label>
                                <input type="text" id="settingsWhatsApp" placeholder="Ex: 351933758731" value="351933758731">
                                <small style="color: #666; font-size: 0.8rem;">N√∫mero com c√≥digo do pa√≠s, sem espa√ßos ou caracteres especiais</small>
                            </div>
                            <div class="form-group">
                                <label for="settingsMapUrl">URL do Mapa (Google Maps Embed)</label>
                                <input type="url" id="settingsMapUrl" placeholder="Cole aqui o link embed do Google Maps">
                                <small style="color: #666; font-size: 0.8rem;">V√° ao Google Maps, clique em "Partilhar" > "Incorporar um mapa" e copie o URL do src</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Mensagens WhatsApp</h3>
                        <form id="whatsappSettingsForm">
                            <div class="form-group">
                                <label for="whatsappNotificationTemplate">Mensagem de Notifica√ß√£o ao Admin</label>
                                <textarea id="whatsappNotificationTemplate" rows="10" placeholder="Personalize a mensagem enviada ao admin quando cliente faz marca√ß√£o"></textarea>
                                <small style="color: #666; font-size: 0.8rem; display: block; margin-top: 0.5rem;">
                                    <strong>Vari√°veis dispon√≠veis:</strong><br>
                                    {clienteNome} - Nome do cliente<br>
                                    {clienteEmail} - Email do cliente<br>
                                    {clienteTelefone} - Telefone do cliente<br>
                                    {tipoServico} - Tipo (Servi√ßo, Workshop ou Evento)<br>
                                    {nomeServico} - Nome do servi√ßo/workshop/evento<br>
                                    {data} - Data da marca√ß√£o<br>
                                    {hora} - Hora da marca√ß√£o
                                </small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Imagens do Site</h3>
                        <form id="imagesSettingsForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="welcomeAvatarUrl">Foto do Perfil (Se√ß√£o Bem-Vindas)</label>
                                    <input type="url" id="welcomeAvatarUrl" placeholder="URL da imagem ou caminho local">
                                    <small style="color: #666; font-size: 0.8rem;">Imagem circular que aparece na homepage</small>
                                </div>
                                <div class="form-group">
                                    <label for="aboutImageUrl">Foto da P√°gina Sobre Mim</label>
                                    <input type="url" id="aboutImageUrl" placeholder="URL da imagem ou caminho local">
                                    <small style="color: #666; font-size: 0.8rem;">Imagem principal da p√°gina Sobre Mim</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="footerAvatarUrl">Foto do Rodap√© (Se√ß√£o Sobre Mim)</label>
                                <input type="url" id="footerAvatarUrl" placeholder="URL da imagem ou caminho local" value="assets/images/capa.png">
                                <small style="color: #666; font-size: 0.8rem;">Foto circular que aparece no rodap√©. Por padr√£o, usa a mesma da p√°gina Sobre Mim.</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Portf√≥lio</h3>
                        <p style="margin-bottom: 1rem; color: #666;">Gerir imagens do portf√≥lio.</p>
                        <div class="form-group">
                            <label>Adicionar Imagem ao Portf√≥lio</label>
                            <input type="text" id="portfolioImageUrl" placeholder="URL da imagem">
                            <input type="text" id="portfolioImageTitle" placeholder="T√≠tulo (opcional)" style="margin-top: 0.5rem;">
                            <textarea id="portfolioImageDesc" placeholder="Descri√ß√£o (opcional)" rows="2" style="margin-top: 0.5rem;"></textarea>
                            <button class="btn btn-primary" onclick="addPortfolioImageAdmin()" style="margin-top: 0.5rem;">Adicionar Imagem</button>
                        </div>
                        <div id="portfolioImagesGrid" class="admin-image-grid" style="margin-top: 1.5rem;">
                            <!-- Portfolio images will be loaded here -->
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Certificados</h3>
                        <p style="margin-bottom: 1rem; color: #666;">Gerir certificados exibidos no rodap√© do site.</p>
                        <div class="form-group">
                            <label>Adicionar Certificado</label>
                            <input type="text" id="certificateImageUrl" placeholder="URL da imagem do certificado">
                            <input type="text" id="certificateTitle" placeholder="T√≠tulo do certificado" style="margin-top: 0.5rem;">
                            <input type="text" id="certificateYear" placeholder="Ano (opcional)" style="margin-top: 0.5rem;">
                            <button class="btn btn-primary" onclick="addCertificateAdmin()" style="margin-top: 0.5rem;">Adicionar Certificado</button>
                        </div>
                        <div id="certificatesGrid" class="admin-image-grid" style="margin-top: 1.5rem;">
                            <!-- Certificates will be loaded here -->
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Analytics e Visitas</h3>
                        <div id="analyticsStats">
                            <!-- Analytics stats will be loaded here -->
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <h4>Visitas por P√°gina</h4>
                            <div id="pageVisitsChart" style="margin-top: 1rem;">
                                <!-- Page visits chart -->
                            </div>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <h4>Avalia√ß√µes do Google</h4>
                            <p style="color: #666; margin-top: 0.5rem;">Para integrar avalia√ß√µes do Google, adicione o widget do Google My Business no seu site.</p>
                            <a href="https://www.google.com/business/" target="_blank" class="btn btn-outline" style="margin-top: 0.5rem;">Acessar Google My Business</a>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>Dados do Sistema</h3>
                        <p style="margin-bottom: 1rem; color: #666;">Gerir dados armazenados localmente.</p>
                        <button class="btn btn-outline" onclick="resetData()">Repor Dados Iniciais</button>
                        <button class="btn btn-outline" onclick="exportData()" style="margin-left: 0.5rem;">Exportar Dados</button>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Modal Container -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal large" id="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Modal</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Conte√∫do do modal ser√° carregado via JS -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="js/storage.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/app.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadAdminPage();
        });
    </script>
</body>
</html>
