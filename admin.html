<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Painel Administrativo - Yemar Makeup Artist">
    <title>Admin - Yemar Makeup Artist</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://images.unsplash.com">
    <link rel="dns-prefetch" href="https://images.unsplash.com">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="top-bar">
                <button class="hamburger" id="hamburger" aria-label="Abrir menu">
                    <span></span><span></span><span></span>
                </button>
                <nav class="main-nav" aria-label="Navega√ß√£o principal">
                    <a href="index.html">IN√çCIO</a>
                    <a href="admin.html">ADMIN</a>
                </nav>
                <div class="header-right">
                    <div class="auth-link"><a href="conta.html" id="adminUserName">Admin</a></div>
                    <button class="btn btn-sm btn-outline" onclick="logout()">Sair</button>
                </div>
            </div>
            <div class="logo-section">
                <a href="index.html"><img src="assets/images/logo.png" alt="Yemar Makeup Artist" class="logo-img" style="height: 80px;"></a>
                <p class="tagline">PAINEL ADMINISTRATIVO</p>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <span class="logo-text" style="font-size: 1.2rem;">ADMIN</span>
            <button class="mobile-menu-close" id="closeMenu" aria-label="Fechar menu">&times;</button>
        </div>
        <nav class="mobile-nav" id="mobileAdminNav">
            <a href="#" data-section="dashboard">Dashboard</a>
            <a href="#" data-section="bookings">Marca√ß√µes</a>
            <a href="#" data-section="orders">Encomendas</a>
            <a href="#" data-section="services">Servi√ßos</a>
            <a href="#" data-section="workshops">Workshops</a>
            <a href="#" data-section="products">Produtos</a>
            <a href="#" data-section="posts">Blog</a>
            <a href="#" data-section="events">Eventos</a>
            <a href="#" data-section="users">Utilizadores</a>
            <a href="#" data-section="messages">Mensagens</a>
            <a href="#" data-section="settings">Defini√ß√µes</a>
        </nav>
    </div>

    <!-- Main Content -->
    <main id="main">
        <div class="admin-layout">
            <!-- Sidebar -->
            <aside class="admin-sidebar">
                <nav id="adminNav">
                    <a class="admin-menu-item active" data-section="dashboard">üìä Dashboard</a>
                    <a class="admin-menu-item" data-section="bookings">üìÖ Marca√ß√µes</a>
                    <a class="admin-menu-item" data-section="orders">üì¶ Encomendas</a>
                    <a class="admin-menu-item" data-section="services">üíÑ Servi√ßos</a>
                    <a class="admin-menu-item" data-section="workshops">üéì Workshops</a>
                    <a class="admin-menu-item" data-section="products">üõçÔ∏è Produtos</a>
                    <a class="admin-menu-item" data-section="posts">üìù Blog</a>
                    <a class="admin-menu-item" data-section="events">üéâ Eventos</a>
                    <a class="admin-menu-item" data-section="users">üë• Utilizadores</a>
                    <a class="admin-menu-item" data-section="messages">‚úâÔ∏è Mensagens</a>
                    <a class="admin-menu-item" data-section="settings">‚öôÔ∏è Defini√ß√µes</a>
                </nav>
            </aside>

            <!-- Content Area -->
            <div class="admin-content">
                <!-- Dashboard -->
                <section id="dashboardSection" class="admin-section active">
                    <h2 style="margin-bottom: 1.5rem;">Dashboard</h2>
                    <div class="stats-grid" id="statsGrid">
                        <!-- Stats ser√£o carregadas via JS -->
                    </div>
                    
                    <div class="grid grid-2" style="margin-top: 2rem;">
                        <div class="admin-table-container">
                            <div class="admin-table-header">
                                <h3 class="admin-table-title">√öltimas Marca√ß√µes</h3>
                            </div>
                            <div id="recentBookings" style="padding: 1rem;">
                                <!-- Marca√ß√µes recentes -->
                            </div>
                        </div>
                        <div class="admin-table-container">
                            <div class="admin-table-header">
                                <h3 class="admin-table-title">√öltimas Encomendas</h3>
                            </div>
                            <div id="recentOrders" style="padding: 1rem;">
                                <!-- Encomendas recentes -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Marca√ß√µes -->
                <section id="bookingsSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Marca√ß√µes</h2>
                    <div class="filters" style="margin-bottom: 1rem;">
                        <select id="bookingStatusFilter" onchange="loadAdminBookings()">
                            <option value="">Todos os Estados</option>
                            <option value="pending">Pendentes</option>
                            <option value="confirmed">Confirmadas</option>
                            <option value="completed">Conclu√≠das</option>
                            <option value="cancelled">Canceladas</option>
                        </select>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Cliente</th>
                                    <th>Servi√ßo</th>
                                    <th>Data/Hora</th>
                                    <th>Estado</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="bookingsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Encomendas -->
                <section id="ordersSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Encomendas</h2>
                    <div class="filters" style="margin-bottom: 1rem;">
                        <select id="orderStatusFilter" onchange="loadAdminOrders()">
                            <option value="">Todos os Estados</option>
                            <option value="pending">Pendentes</option>
                            <option value="processing">Em Processamento</option>
                            <option value="shipped">Enviadas</option>
                            <option value="delivered">Entregues</option>
                            <option value="cancelled">Canceladas</option>
                        </select>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Servi√ßos -->
                <section id="servicesSection" class="admin-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Servi√ßos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openServiceModal()">+ Novo Servi√ßo</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Categoria</th>
                                    <th>Pre√ßo</th>
                                    <th>Dura√ß√£o</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="servicesTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Workshops -->
                <section id="workshopsSection" class="admin-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Workshops</h2>
                        <button class="btn btn-primary btn-sm" onclick="openWorkshopModal()">+ Novo Workshop</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Modalidade</th>
                                    <th>Pre√ßo</th>
                                    <th>Vagas</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="workshopsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Produtos -->
                <section id="productsSection" class="admin-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Produtos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openProductModal()">+ Novo Produto</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Categoria</th>
                                    <th>Pre√ßo</th>
                                    <th>Stock</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Blog -->
                <section id="postsSection" class="admin-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o do Blog</h2>
                        <button class="btn btn-primary btn-sm" onclick="openPostModal()">+ Novo Artigo</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>T√≠tulo</th>
                                    <th>Categoria</th>
                                    <th>Data</th>
                                    <th>Likes</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="postsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Eventos -->
                <section id="eventsSection" class="admin-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Gest√£o de Eventos</h2>
                        <button class="btn btn-primary btn-sm" onclick="openEventModal()">+ Novo Evento</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Data</th>
                                    <th>Local</th>
                                    <th>Vagas</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="eventsTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Utilizadores -->
                <section id="usersSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Gest√£o de Utilizadores</h2>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Telefone</th>
                                    <th>Tipo</th>
                                    <th>Data Registo</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Mensagens -->
                <section id="messagesSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Mensagens de Contacto</h2>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Assunto</th>
                                    <th>Data</th>
                                    <th>Estado</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="messagesTableBody">
                                <!-- Linhas ser√£o carregadas via JS -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Defini√ß√µes -->
                <section id="settingsSection" class="admin-section">
                    <h2 style="margin-bottom: 1.5rem;">Defini√ß√µes do Site</h2>
                    
                    <div class="settings-section">
                        <h3>Hero Banner</h3>
                        <form id="heroSettingsForm">
                            <div class="form-group">
                                <label for="heroTitle">T√≠tulo</label>
                                <input type="text" id="heroTitle" value="Real√ßa a Tua Beleza Natural">
                            </div>
                            <div class="form-group">
                                <label for="heroSubtitle">Subt√≠tulo</label>
                                <input type="text" id="heroSubtitle" value="Maquilhagem profissional para todos os momentos especiais da tua vida">
                            </div>
                            <div class="form-group">
                                <label for="heroImage">URL da Imagem</label>
                                <input type="url" id="heroImage" value="https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1920">
                            </div>
                            <div class="form-group">
                                <label for="heroCta">Texto do Bot√£o</label>
                                <input type="text" id="heroCta" value="Marcar Agora">
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Informa√ß√µes de Contacto</h3>
                        <form id="contactSettingsForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="settingsEmail">Email</label>
                                    <input type="email" id="settingsContactEmail" value="yemarmk@gmail.com">
                                </div>
                                <div class="form-group">
                                    <label for="settingsPhone">Telefone</label>
                                    <input type="tel" id="settingsContactPhone" value="(+351) 933758731">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="settingsAddress">Endere√ßo</label>
                                <input type="text" id="settingsAddress" placeholder="Ex: Rua das Flores, 123 - Lisboa">
                            </div>
                            <div class="form-group">
                                <label for="settingsMapUrl">URL do Mapa (Google Maps Embed)</label>
                                <input type="url" id="settingsMapUrl" placeholder="Cole aqui o link embed do Google Maps">
                                <small style="color: #666; font-size: 0.8rem;">V√° ao Google Maps, clique em "Partilhar" > "Incorporar um mapa" e copie o URL do src</small>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Imagens do Site</h3>
                        <form id="imagesSettingsForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="welcomeAvatarUrl">Foto do Perfil (Se√ß√£o Bem-Vindas)</label>
                                    <input type="url" id="welcomeAvatarUrl" placeholder="URL da imagem ou caminho local">
                                    <small style="color: #666; font-size: 0.8rem;">Imagem circular que aparece na homepage</small>
                                </div>
                                <div class="form-group">
                                    <label for="aboutImageUrl">Foto da P√°gina Sobre Mim</label>
                                    <input type="url" id="aboutImageUrl" placeholder="URL da imagem ou caminho local">
                                    <small style="color: #666; font-size: 0.8rem;">Imagem principal da p√°gina Sobre Mim</small>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Guardar Altera√ß√µes</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Dados do Sistema</h3>
                        <p style="margin-bottom: 1rem; color: #666;">Gerir dados armazenados localmente.</p>
                        <button class="btn btn-outline" onclick="resetData()">Repor Dados Iniciais</button>
                        <button class="btn btn-outline" onclick="exportData()" style="margin-left: 0.5rem;">Exportar Dados</button>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Modal Container -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal large" id="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Modal</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Conte√∫do do modal ser√° carregado via JS -->
            </div>
        </div>
    </div>

    <script src="js/storage.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/app.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadAdminPage();
        });
    </script>
</body>
</html>
